<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>그외 인터랙션</title>
  <link href="../assets/images/ico_ts.png" rel="icon">
  <link rel="stylesheet" href="../assets/css/lib/swiper-bundle.min.css">
  <link rel="stylesheet" href="../assets/css/default.css"/>
  <style>
    html,body{
        height: 100%;
        width: 100%;
    }
  </style>
</head>
<body>
    <div class="wrap intro">
        <div class="swiper_vertical">
            <div class="swiper_unit"
            data-effect="slide" data-speed="0" data-auto="false" data-align="false" data-loop="false"
            data-direction="vertical" data-initial="0" data-view="auto">
                <ul class="swiper-wrapper">
                    <li class="swiper-slide ">
                        <div class="sec1 intro_cont">
                            <div class="sec1_txtgroup">
                                <p>고객님~2023년 부터</p>
                                <p>기본공제 신청해야<br>금융투자소득세 '0원'</p>
                                <p>이라는 사실 알고 계시나요?</p>
                            </div>
                            <div class="sec1_box1">
                                <h4>MY TAX</h4>
                                <div class="sec1_txtMotion">
                                    <p>1,155</p>
                                    <p>만원</p>
                                </div>
                                <div class="sec1_handMotion">
                                    <div class="firstBox">
                                        <p class="ico_kiwoom">키움</p>
                                        <div class="firstTxt">
                                            기본공제 신청 <br>하시겠습니까?
                                        </div>
                                        <div class="firstBtn">신청하기</div>
                                        <div class="firstCheck">체크</div>
                                    </div>
                                    <div class="secondBox">
                                        <p class="secondTxt1">첫번째텍스트</p>
                                        <p class="secondTxt2">두번째텍스트</p>
                                    </div>
                                    <div class="icoHand">손모양</div>
                                </div>
                            </div>
                            <div class="sec1_btn">
                                <a href="javascript:alert('기본공제 신청하기 링크필요')">기본공제 신청하기</a>
                            </div>
                        </div>
                    </li>
                    <li class="swiper-slide">
                        <div class="sec2 intro_cont">
                            <div class="roundBox_after"></div>
                            <div class="sec2_txtgroup">
                                <p><strong>기본공제 신청</strong>이 뭔가요?</p>
                                <p>2023년 1월 1일부터 금융투자소득세 도입으로 주식 등의 소득금액 <span>기본 22%의 세금이 부과</span>됩니다.</p>
                            </div>
                            <div class="sec2_txtgroup2">
                                <span>다만 기본공제를 신청할 시,</span><br>
                                국내상장주식 등 소득금액 5,000만원까지<br>
                                기타 금융투자상품 소득금액 250만원까지<br>
                                <span>최대 1,155만원의 세금을 매기지 않습니다.</span>
                            </div>
                            <div class="sec2_txtgroup3">
                                <p><strong>기본공제 신청</strong>만 해도<br>세금공제!</p>
                                <p>국내주식 5,000만원 수익 시, 세금(22%) 1,100만원 절약</p>
                            </div>
                            <div class="figure_box">
                                <div class="deduct_fail">
                                    <div class="fail_txtType1">기본공제 미신청</div>
                                    <div class="two_figure">
                                        <p class="incon"></p>
                                        <p class="red_figure"></p>
                                    </div>
                                    <div class="fail_txtType2">세금22%</div>
                                    <div class="fail_txtType3 cnt_step1">세후 수익 <br><span>0</span>%</div>
                                </div>
                                <div class="deduct_sucess">
                                    <div class="one_figure">
                                        <p class="incon"></p>
                                    </div>
                                    <div class="fail_txtType1">기본공제 최대신청</div>
                                    <div class="fail_txtType3 cnt_step2">수익 <br><span>0</span>%</div>
                                </div>
                                <div class="figure_mask1">1번도형마스크</div>
                                <div class="figure_mask2">2번도형마스크</div>
                            </div>
                        </div>
                    </li>
                    <li class="swiper-slide">
                        <div class="sec3 intro_cont">
                            <div class="roundBox_after"></div>
                            <div class="sec3_txtgroup">
                                <p><strong>기본공제</strong>왜 <br>신청해야 하나요?</p>
                                <p>금융 투자자라면 누구에게나 필수 사항입니다. <br>
                                    금융투자소득세 개편 이후에는 <span>기본공제 미신청 시 최대 1,155만원의 세금이 더 부과될 수 있습니다.</span></p>
                            </div>
                            <div class="sec3_group1">
                                <div class="inGroup">
                                    <h3>1그룹</h3>
                                    <h4>국내상장주식 등</h4>
                                    <p class="check_text">
                                        최대 5,000만원 <br>신청가능
                                    </p>
                                    <div class="ico_figure_box"><p class="ico_figure1"></p></div>
                                    <p class="infor_text">
                                        금융투자소득세 <br>1,100만원공제
                                    </p>
                                </div>
                                <div class="inGroup">
                                    <h3>2그룹</h3>
                                    <h4>기타금융투자상품</h4>
                                    <p class="check_text">
                                        최대 250만원 <br>신청가능
                                    </p>
                                    <div class="ico_figure_box"><p class="ico_figure2"></p></div>
                                    <p class="infor_text">
                                        금융투자소득세 <br>55만원공제
                                    </p>
                                </div>
                                <p class="sec3_ico_plus"></p>
                            </div>
                            <div class="sec3_group2">
                                <p>기본공제 미신청 시<br><strong><span>금융투자소득세 22% 부과</span></strong></p>
                            </div>
                        </div>
                    </li>
                    <li class="swiper-slide">
                        <div class="sec4 intro_cont">
                            <div class="roundBox_after"></div>
                            <div class="sec4_txtgroup">
                                <p><strong>국내상장주식 등</strong>이 뭔가요?</p>
                                <p>금융투자상품은 크게 2유형으로 나누어집니다. <br>
                                    1그룹 (국내상장주식 등), 2그룹(그 외 기타 금융투자상품) <br>
                                    기본공제 최대 한도 신청 시, 그 한도까지는 세금이 부과되지 않습니다.
                                </p>
                            </div>
                            <div class="sec4_figure_box">
                                <div class="sec4_group1">
                                    <div class="base_figure"></div>
                                    <div class="figure_1_1"></div>
                                    <div class="figure_1_2"></div>
                                    <div class="figure_1_3"></div>
                                </div>
                                <div class="sec4_group2">
                                    <div class="base_figure"></div>
                                    <div class="figure_2_1"></div>
                                    <div class="figure_2_2"></div>
                                    <div class="figure_2_3"></div>
                                    <div class="figure_2_4"></div>
                                    <div class="figure_2_5"></div>
                                </div>
                            </div>
                            <div class="sec4_txtgroup2">
                                <p>국내주식</p>
                                <p>공모국내주식형적격집합투자기구</p>
                                <p>K-OTC 중소중견기업 주식</p>
                            </div>
                            <div class="sec4_txtgroup2_1">
                                <p>해외주식</p>
                                <p>채권</p>
                                <p>ELS</p>
                                <p>파생상품</p>
                                <p>Wrap</p>
                            </div>
                            <div class="sec4_txtgroup3">
                                <p>양도차익 시 금융투자소득세 22% 부과 <br>
                                    단, 기본공제 신청 시 <strong><span class="money_cnt">0</span> 만원까지 비과세</strong></p>
                            </div>
                        </div>
                    </li>
                    <li class="swiper-slide">
                        <div class="sec5 intro_cont">
                            <div class="roundBox_after"></div>
                            <ul>
                                <li>
                                    <h3>기본공제 FAQ</h3>
                                    <h4>기본공제 신청 대상과 <br>
                                        기간은 언제까지인가요?</h4>
                                    <p>기본공제 자세히 알려드려요.</p>
                                </li>
                                <li>
                                    <h3>금융투자소득세</h3>
                                    <h4>잠깐! 금융투자소득세에 <br>
                                        대해 궁금하신가요?</h4>
                                    <p><a href="#">금융투자소득세 알아보기</a></p>
                                </li>
                                <li>
                                    <h4>기본공제금을 신청하면 <br>
                                    <strong>키움 혜택이 와르르~</strong></h4>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
                <div class="swiper-pagination"></div>
            </div>
        </div>
        <span class="ico_step">다음컨텐츠</span>
    </div>

    <div class="sec1_btn_type2">
        <a href="javascript:alert('기본공제 신청하기 링크필요')">기본공제 신청하기</a>
    </div>






    <script src="../assets/js/lib/jquery-3.3.1.min.js"></script>
    <script src="../assets/js/dist/resize.js"></script>
    <script src="../assets/js/lib/swiper-bundle.min.js"></script>
    <script src="../assets/js/dist/common.js"></script>
    <script>
        function motionStart(el){
            $(el).removeClass('on')
            setTimeout(() => {
                $(el).addClass('on')
            }, 10);
        }




        $(document).ready(function(){


// 인트로 모션
if($('.wrap.intro').length) {
  // 초기 선언 엘리먼트
  var icoStep = $('.ico_step'),
  sec1Btn = $('.sec1 .sec1_btn'),
  sec1Hand = $('.sec1 .icoHand'),
  sec1FirtBtn = $('.sec1 .firstBtn'),
  sec1Txt1 = $('.sec1 .secondTxt1'),
  sec1Txt2 = $('.sec1 .secondTxt2'),
  sec1FirstBox = $('.sec1 .firstBox'),
  sec1SecondBox = $('.sec1 .secondBox'),
  sec1FirstCk = $('.sec1 .firstCheck'),
  sec1Money = $('.sec1_txtMotion'),
  sec2Figure = $('.figure_box'),
  sec2Txt1 = $('.fail_txtType1'),
  sec2Txt2 = $('.fail_txtType2'),
  sec2Count1 = $('.cnt_step1 span'),
  sec2Count2 = $('.cnt_step2 span'),
  sec3Group = $('.sec3_group1 .inGroup'),
  sec3Plus = $('.sec3_ico_plus'),
  sec4Figure1_1 = $('.sec4_group1 .figure_1_1'),
  sec4Figure1_2 = $('.sec4_group1 .figure_1_2'),
  sec4Figure1_3 = $('.sec4_group1 .figure_1_3'),
  sec4Figure2_1 = $('.sec4_group2 .figure_2_1'),
  sec4Figure2_2 = $('.sec4_group2 .figure_2_2'),
  sec4Figure2_3 = $('.sec4_group2 .figure_2_3'),
  sec4Figure2_4 = $('.sec4_group2 .figure_2_4'),
  sec4Figure2_5 = $('.sec4_group2 .figure_2_5'),
  sec4Group1 = $('.sec4_group1'),
  sec4Group2 = $('.sec4_group2'),
  sec4Txt1 = $('.sec4_txtgroup2'),
  sec4Txt2= $('.sec4_txtgroup2_1'),
  sec4Count = $('.sec4_txtgroup3 .money_cnt'),
  timerBox = [],
  timeMotion4,
  secBtn1 = $('.sec1_btn'),
  secBtn2 = $('.sec1_btn_type2');


  //스와이퍼 가져오기
  var swiperIntro = swiperSet.getter()[0];

  // next 버튼 이동
  icoStep.on('click',function(){
    var swiperIdx = swiperIntro.realIndex+1;
    if(swiperIdx > swiperIntro.slides.length-1){
      swiperIdx = 0
      swiperIntro.slideTo(swiperIdx);
    }else{
      swiperIntro.slideNext();
    }    
  });

  // 카운터 숫자
  function counter(el,count1,timer1,duration=1000,startCnt=0,endCnt=0){
    el.text("0");
    setTimeout(function() {
      el.eq(0).prop("counter", startCnt).animate({
        counter: count1,
        },{
          duration: duration,
          easing: "swing",
          step: function (now) {
              now = Number(Math.ceil(now)).toLocaleString('en');
              $(this).text(now);
        }
      });    
    }, timer1);
  }

  function motionReset(dp){
    // timer 전체 삭제
    for (var key in timerBox) {
      clearInterval(timerBox[key])
    }
    // settimeout 전체 초기화
    timerBox=[];
    // 인터랙션1 해제
    sec1Btn.removeClass('on');
    sec1Hand.removeClass('on');
    sec1FirtBtn.removeClass('on');
    sec1Txt1.removeClass('on');
    sec1Txt2.removeClass('on');
    sec1Hand.show();
    sec1FirstBox.show();
    sec1SecondBox.hide();
    sec1FirstCk.hide();
    sec1Money.find('p:nth-child(1)').text('1,155');
    sec1Money.find('p:nth-child(2)').text('만원');
    // 인터랙션2  해제
    sec2Figure.find('.incon').removeClass('on');
    sec2Figure.find('.red_figure').removeClass('on');
    sec2Txt1.removeClass('on');
    sec2Txt2.removeClass('on');
    // 인터랙션3 해제
    sec3Group.removeClass('on');
    sec3Plus.hide();
    // 인터랙션4 해제
    sec4Figure1_1.removeClass('on');
    sec4Figure1_2.removeClass('on');
    sec4Figure1_3.removeClass('on');
    sec4Figure2_1.removeClass('on');
    sec4Figure2_2.removeClass('on');
    sec4Figure2_3.removeClass('on');
    sec4Figure2_4.removeClass('on');
    sec4Figure2_5.removeClass('on');
    sec4Group1.show();
    sec4Group2.hide ();
    sec4Txt1.show();
    sec4Txt2.hide();
    sec4Count.text('0');
    
    if(dp >= 4){
      $('.ico_step').css('display','none');
    }else{
      $('.ico_step').css('display','block');
    }
  }
  // 인터랙션 1 
  function motionStart1(){
    secBtn1.css('opacity','1');
    secBtn2.hide();
    // 시간별로 실행
    timerBox.push(setTimeout(function(){
      sec1Hand.addClass('on');
    }, 500));
    timerBox.push(setTimeout(function(){
      sec1FirtBtn.addClass('on');
    }, 1500));
    timerBox.push(setTimeout(function(){
      sec1Hand.fadeOut('slow');
    }, 2500));
    timerBox.push(setTimeout(function(){
      sec1FirstCk.fadeIn();
    }, 2800));
    timerBox.push(setTimeout(function(){
      counter(sec1Money.find('p:nth-child(1)'),0,0,1000,1155);
    }, 3500));
    timerBox.push(setTimeout(function(){
      sec1FirstBox.fadeOut();
      sec1SecondBox.show();
      sec1Txt1.addClass('on');
      sec1Txt2.addClass('on');
      sec1Money.find('p:nth-child(2)').text('원')
    }, 4500));
    timerBox.push(setTimeout(function(){
      sec1Btn.addClass('on');
    }, 5000));
  }
  // 인터랙션 2
  function motionStart2(){
    secBtn1.css('opacity','0');
    secBtn2.fadeIn('slow');
    // 카운트 즉시 실행
    counter(sec2Count1,78,1000,500);
    counter(sec2Count2,78,1000,500);
    // 시간별로 실행
    timerBox.push(setTimeout(function(){
      sec2Figure.find('.incon').addClass('on');
      sec2Figure.find('.red_figure').addClass('on');
    }, 1000));
    timerBox.push(setTimeout(function(){
      sec2Txt2.addClass('on');
    }, 2200));
    timerBox.push(setTimeout(function(){
      counter(sec2Count2,100,0,1000,78);
    }, 2500));
    timerBox.push(setTimeout(function(){
      sec2Txt1.addClass('on');
    }, 2800));
  }
  // 인터랙션 3
  function motionStart3(){
    // 시간별로 실행
    timerBox.push(setTimeout(function(){
      sec3Group.addClass('on');
    }, 500));
    timerBox.push(setTimeout(function(){
      sec3Plus.fadeIn('slow');
    }, 3000));
  }
  // 인터랙션 4
  function motionStart4(){
    // 카운트 즉시 실행
    counter(sec4Count,5000,500);
    // 시간별로 실행
    timerBox.push(setTimeout(function(){
      sec4Figure1_1.addClass('on');
      sec4Figure1_2.addClass('on');
      sec4Figure1_3.addClass('on');
    }, 100));
    timerBox.push(setTimeout(function() {
      counter(sec4Count,250,500);
      sec4Group1.hide();
      sec4Group2.show();
      sec4Txt1.hide();
      sec4Txt2.show();
      sec4Figure2_1.addClass('on');
      sec4Figure2_2.addClass('on');
      sec4Figure2_3.addClass('on');
      sec4Figure2_4.addClass('on');
      sec4Figure2_5.addClass('on');
    }, 4500));
  }

  // 상하 슬라이드시 구간별 인터랙션 호출
  swiperIntro.on('slideChangeTransitionStart', function () {
    var swiperIdx = swiperIntro.realIndex;
    motionReset(swiperIdx);
    switch (swiperIdx) {
      case 0:
        motionStart1();
        break;
      case 1:
          motionStart2();
        break;
      case 2:
        clearInterval(timeMotion4);
        motionStart3();
        break;
      case 3:
        motionStart4();
        timeMotion4 = setInterval(function() {
          motionReset();
          motionStart4();            
        }, 9000);
        break;
      case 4:
        clearInterval(timeMotion4);  
        break;
      default:
        
        break;
    }
  });
  

  // 처음 진입시 즉시 실행 함수
  motionReset();
  motionStart1();
}// 인트로 모션 끝
});





    </script>
</body>
</html>